{"name":"To accept or reject a booking from Ops portal","id":"to-check-booking-accept-and-reject-functionality:To accept or reject a booking from Ops portal","testSteps":[{"number":1,"description":"Given Header parameters are given for Accept Reject Booking","duration":1321,"startTime":1546413322421,"result":"SUCCESS","precondition":false,"children":[{"number":2,"description":"POST https://uat1-api.servicemarket.com/oauth/token\r\r","duration":0,"startTime":1546413323728,"result":"SUCCESS","restQuery":{"method":"POST","path":"https://uat1-api.servicemarket.com/oauth/token\r\r","content":"\r","contentType":"null","requestHeaders":"Accept\u003dapplication/json\r\n\t\t\t\tContent-Type\u003dapplication/x-www-form-urlencoded; charset\u003dISO-8859-1\r\r","requestCookies":"\r\r","responseHeaders":"Cache-Control: no-store\nContent-Encoding: gzip\nContent-Type: application/json;charset\u003dUTF-8\nDate: Wed, 02 Jan 2019 07:15:22 GMT\nPragma: no-cache\nServer: Apache-Coyote/1.1\nVary: Accept-Encoding\ntransfer-encoding: chunked\nConnection: keep-alive\r","responseCookies":"\r","responseBody":"{\n    \"access_token\": \"abb01ecb-a1d7-4d82-ab9c-e8c4a16ea4c9\",\n    \"token_type\": \"bearer\",\n    \"refresh_token\": \"de3e3690-023b-4ab3-8c90-8182d28682a5\",\n    \"expires_in\": 9175156,\n    \"scope\": \"read write trust\",\n    \"serviceProvider\": null,\n    \"isActive\": true,\n    \"userId\": 7,\n    \"email\": \"service.market.uae@gmail.com\",\n    \"authorities\": [\n        {\n            \"authority\": \"ROLE_IP_ADMIN\"\n        }\n    ],\n    \"username\": \"admin\",\n    \"customer\": null\n}","statusCode":200},"precondition":false}]},{"number":3,"description":"When Admin post a request for Accept Reject booking","duration":866,"startTime":1546413323742,"result":"SUCCESS","precondition":false,"children":[{"number":4,"description":"PUT https://uat1-api.servicemarket.com/v1.0/booking/confirmation\r\r","duration":0,"startTime":1546413324608,"result":"SUCCESS","restQuery":{"method":"PUT","path":"https://uat1-api.servicemarket.com/v1.0/booking/confirmation\r\r","content":"{\n    \"bookingConfirmationId\": 672290,\n    \"comments\": \"\",\n    \"rejectionReasonDataValueId\": 0,\n    \"rejectionReasonText\": \"\",\n    \"requestedBy\": \"Mariam\",\n    \"statusId\": 80\n}\r","contentType":"application/json","requestHeaders":"Accept\u003dapplication/json\r\n\t\t\t\tisCustomerLoggedIn\u003dtrue\r\n\t\t\t\taccessToken\u003dabb01ecb-a1d7-4d82-ab9c-e8c4a16ea4c9\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Content-Type: application/json;charset\u003dUTF-8\nDate: Wed, 02 Jan 2019 07:15:22 GMT\nServer: Apache-Coyote/1.1\ntransfer-encoding: chunked\nConnection: keep-alive\r","responseCookies":"\r","responseBody":"{\n    \"status\": \"BAD_REQUEST\",\n    \"success\": false,\n    \"size\": null,\n    \"data\": null,\n    \"errors\": [\n        {\n            \"errorCode\": \"MS-REQUEST-01\",\n            \"errorMessage\": \"Missing request header \u0027signedInUserId\u0027 for method parameter of type Integer\",\n            \"errorDetails\": \"Missing request header \u0027signedInUserId\u0027 for method parameter of type Integer\",\n            \"validationErrors\": null\n        }\n    ]\n}","statusCode":400},"precondition":false}]},{"number":5,"description":"Then Booking gets accept reject and should return status 200","duration":65,"startTime":1546413324609,"exception":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nExpected status code \u003c200\u003e but was \u003c400\u003e.\n","stackTrace":[{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":636},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":122},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":130},{"declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"statusCode","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":117},{"declaringClass":"com.apiautomation.cucumber.steps.newbookingengine.BookingAcceptReject","methodName":"bookingconfirmation","fileName":"BookingAcceptReject.java","lineNumber":58},{"declaringClass":"✽","methodName":"Then Booking gets accept reject and should return status 200","fileName":"BookingAcceptReject.feature","lineNumber":9}]},"result":"FAILURE","precondition":false}],"userStory":{"id":"to-check-booking-accept-and-reject-functionality","storyName":"To check Booking Accept and Reject functionality","path":"BookingAcceptReject.feature","type":"feature"},"featureTag":{"name":"To check Booking Accept and Reject functionality","type":"feature"},"title":"To accept or reject a booking from Ops portal","description":"","tags":[{"name":"To check Booking Accept and Reject functionality","type":"feature"}],"startTime":1546413322420,"duration":2254,"testFailureCause":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nExpected status code \u003c200\u003e but was \u003c400\u003e.\n","stackTrace":[{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":636},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":122},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":130},{"declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"statusCode","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":117},{"declaringClass":"com.apiautomation.cucumber.steps.newbookingengine.BookingAcceptReject","methodName":"bookingconfirmation","fileName":"BookingAcceptReject.java","lineNumber":58},{"declaringClass":"✽","methodName":"Then Booking gets accept reject and should return status 200","fileName":"BookingAcceptReject.feature","lineNumber":9}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"1 expectation failed.\nExpected status code \u003c200\u003e but was \u003c400\u003e.\n","testFailureSummary":"FAILURE;java.lang.AssertionError;1 expectation failed.\nExpected status code \u003c200\u003e but was \u003c400\u003e.\n;ResponseSpecificationImpl.groovy","projectKey":"","annotatedResult":"FAILURE","manual":false,"result":"FAILURE"}